---
import Base from "../layouts/Base.astro";
import PostCard from "../components/PostCard.astro";
import type { MarkdownInstance } from "astro";
import type { FrontMatter } from "../utils";

const posts = Object.values(
  import.meta.glob<MarkdownInstance<FrontMatter>>("./posts/*.md", {
    eager: true,
  }),
);
---

<Base>
  {
    posts.map((post) => (
      <PostCard
        frontmatter={post.frontmatter}
        url={post.url}
        content={post.rawContent()}
      />
    ))
  }
</Base>
